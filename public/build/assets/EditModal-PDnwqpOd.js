import{v as E,j as e,m as I}from"./app-DdujxetC.js";import{S as d}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{M as N}from"./Modal-C4vY61V8.js";import{I as u}from"./InputLabel-BzWnVHML.js";import{T as c}from"./TextInput-BmMh6PqU.js";import{I as x}from"./InputError-Cg3yzoP4.js";import"./index-Rb7ez85R.js";import{a as M}from"./getErrorMessage-BiY5rOY1.js";import{U as S}from"./UploadInputWithView-BeMryQyC.js";import{u as w}from"./useTranslation-8BayAZb4.js";import"./PrimaryButton-DWDteuQq.js";import"./transition-BZAsKsJL.js";import"./dialog-Cmhm8y39.js";import"./index-BnYHGNjJ.js";import"./floating-ui.dom-AzuEyJcm.js";import"./XMarkIcon-Duw6_-fQ.js";const G=({isOpen:h,onClose:i,ingredient:m,setRefetch:f})=>{if(!m)return null;const{t:a,i18n:_}=w(),{data:n,setData:l,processing:j,errors:o,reset:g}=E({name_id:m.name_id||"",name_en:m.name_en||"",image:m.image||null,message:""}),p=t=>{l(t.target.name,t.target.value)},b=t=>{t.preventDefault();const s={...n,_method:"put"};s.image&&typeof s.image!="object"&&delete s.image,I.post(`/admin/ingredient/${m.id}`,{...s,_method:"put"},{onSuccess:()=>{g(),i(),f(r=>!r),d.fire({icon:"success",title:a("global.swalSuccess"),text:a("ingredient.pageTitle")+" "+a("global.updatedMessage")})},onError:r=>{const v=M(r.message,_.language);console.error("Error updating ingredient:",r),d.fire("Error!",v,"error")}})};return e.jsxs(N,{show:h,onClose:i,title:a("ingredient.pageTitle"),type:"edit",maxWidth:"2xl",onCancel:()=>{i(),g()},processing:j,onSubmit:b,children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"name_id",value:`${a("global.name")} (ID)`}),e.jsx("span",{className:"text-xs text-gray-500",children:a("global.nameIndonesian")||"Nama dalam Bahasa Indonesia"}),e.jsx(c,{id:"name_id",name:"name_id",value:n.name_id,onChange:p,className:"mt-1 block w-full",placeholder:"Nasi",required:!0,autoComplete:"name_id"}),e.jsx(x,{message:o.name_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"name_en",value:`${a("global.name")} (EN)`}),e.jsx("span",{className:"text-xs text-gray-500",children:a("global.nameEnglish")||"Name in English"}),e.jsx(c,{id:"name_en",name:"name_en",value:n.name_en,onChange:p,className:"mt-1 block w-full",placeholder:"Rice",required:!0,autoComplete:"name_en"}),e.jsx(x,{message:o.name_en,className:"mt-2"})]}),e.jsx(S,{id:"image",name:"image",label:a("global.image"),accept:".jpg,.jpeg,.png",maxSizeMB:.5,onChange:t=>l("image",t.target.files[0]??null),value:n.image,error:o.image})]})};export{G as default};
