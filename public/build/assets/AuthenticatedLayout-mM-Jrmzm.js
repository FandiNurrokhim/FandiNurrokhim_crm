import{r as n,q as g,j as e,Y as u}from"./app-DdujxetC.js";import{A as f}from"./ApplicationLogo-DDW-aaz4.js";import{u as w}from"./useTranslation-8BayAZb4.js";import{L as b}from"./LanguageDropdown-CZVTQBmi.js";import{R as p}from"./ResponsiveNavLink-DDPMZpeH.js";import{A as j}from"./Avatar-D3FqKlbf.js";function v({title:r,titleId:s,...l},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},l),r?n.createElement("title",{id:s},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5"}))}const y=n.forwardRef(v);function N({title:r,titleId:s,...l},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},l),r?n.createElement("title",{id:s},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"}))}const k=n.forwardRef(N);function E(){const[r,s]=n.useState(!1),[l,o]=n.useState(!1),{menus:d}=g().props,{t:h,i18n:c}=w(),x=d.reduce((t,a)=>{const i=a.header||"_no_header";return t[i]||(t[i]=[]),t[i].push(a),t},{});n.useEffect(()=>{const t=()=>{window.innerWidth>=1024&&o(!1)},a=()=>o(i=>!i);return window.addEventListener("resize",t),window.addEventListener("toggle-sidebar",a),()=>{window.removeEventListener("resize",t),window.removeEventListener("toggle-sidebar",a)}},[]);const m=t=>{const a=t.is_active,i=c.language==="en"?t.title_en:t.title_id;return e.jsxs(u,{href:t.route?route(t.route):"#",className:`flex items-center w-full px-4 py-2 text-sm font-medium rounded-md hover:bg-gray-700 hover:text-white
        ${r?"justify-center":""}
        ${a?"bg-[#c19977] text-white":""}
      `,children:[e.jsx("i",{className:`${t.icon||"bx bx-circle"} text-lg`}),!r&&e.jsx("span",{className:"ml-4",children:i})]},t.id)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`
          transition-all h-screen duration-300 text-gray-400 z-50
          ${l?"fixed inset-0 bg-gray-900/90 backdrop-blur-md w-full h-full lg:hidden":"hidden"}
          ${l?"":"lg:block relative"}
          ${r&&!l?"w-16":"w-64"}
          ${!l&&"bg-gray-900 h-screen"}
        `,children:[e.jsx("div",{className:"absolute top-4 right-4 lg:hidden",children:e.jsx("button",{onClick:()=>o(!1),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),!l&&e.jsx("div",{className:"absolute top-4 -right-3 z-10 hidden lg:flex bg-gray-800 p-1 rounded-full cursor-pointer hover:bg-gray-700",onClick:()=>s(!r),children:r?e.jsx(k,{className:"w-5 h-5 text-gray-400"}):e.jsx(y,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex items-center lg:justify-start lg:px-4 justify-center w-full h-16 bg-gray-800",children:r?e.jsx(u,{href:"/home",className:"flex items-center justify-center",children:e.jsx(f,{className:"w-8 h-8 text-white"})}):e.jsxs(u,{href:"/home",className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-10 h-10 text-white"}),e.jsx("span",{className:"text-lg font-bold text-white",children:"Admin Menu"})]})}),e.jsx("div",{className:"flex flex-col mt-4 space-y-2 w-full px-2 overflow-y-auto",children:Object.entries(x).map(([t,a])=>e.jsxs("div",{className:"flex flex-col space-y-1",children:[t!=="_no_header"&&!r&&e.jsx("div",{className:"px-2 py-1 text-xs uppercase tracking-widest text-gray-500",children:t}),a.map(i=>i.type==="PARENT"&&m(i))]},t))})]})]})})}function L({title:r,titleId:s,...l},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},l),r?n.createElement("title",{id:s},r):null,n.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const R=n.forwardRef(L),A=()=>{var c,x,m,t;const{t:r}=w(),{auth:s}=g().props,[l,o]=n.useState(!1),d=n.useRef(null),h=()=>o(a=>!a);return n.useEffect(()=>{function a(i){d.current&&!d.current.contains(i.target)&&o(!1)}return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]),e.jsxs("header",{className:"w-full flex items-center lg:justify-end justify-between bg-white shadow-sm px-4 py-3 border-b border-gray-200",children:[e.jsx("div",{className:"lg:hidden",children:e.jsx("button",{onClick:()=>window.dispatchEvent(new CustomEvent("toggle-sidebar")),children:e.jsx(R,{className:"h-6 w-6 text-gray-700"})})}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx(b,{}),e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{"aria-expanded":l,"aria-haspopup":"true",onClick:h,className:"flex items-center space-x-2 focus:outline-none rounded-md",id:"user-menu-button",children:[e.jsx(j,{imagePath:s.user.photo_profile,name:(c=s.user)==null?void 0:c.name}),e.jsx("span",{className:"text-gray-700 font-medium text-sm select-none",children:(x=s==null?void 0:s.user)==null?void 0:x.name}),e.jsx("i",{className:`fas ${l?"fa-chevron-up":"fa-chevron-down"} text-gray-500 text-xs`})]}),l&&e.jsxs("div",{"aria-labelledby":"user-menu-button","aria-orientation":"vertical",className:"absolute right-0 mt-2 w-56 bg-white border border-gray-200 rounded-md shadow-lg z-10",role:"menu",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsx("p",{className:"text-gray-900 font-semibold text-sm",children:(m=s==null?void 0:s.user)==null?void 0:m.email}),(t=s==null?void 0:s.user)!=null&&t.roles&&s.user.roles.length>0?e.jsx("span",{className:"inline-block rounded-full bg-indigo-100 text-indigo-700 px-3 py-0.5 text-xs font-semibold mt-1",children:s.user.roles[0].name}):e.jsx("span",{className:"inline-block rounded-full bg-gray-100 text-gray-400 px-3 py-0.5 text-xs font-semibold mt-1",children:"-"})]}),e.jsx(p,{href:route("profile.edit"),children:r("profile")}),e.jsx(p,{method:"post",href:route("logout"),as:"button",children:r("logout")})]})]})]})]})};function B({children:r}){return e.jsxs("div",{className:"flex h-screen",children:[e.jsx("div",{className:"sticky top-0 left-0 z-30 h-screen w-auto",children:e.jsx(E,{})}),e.jsxs("div",{id:"scrollableDiv",className:"flex-1 h-screen bg-slate-200 flex flex-col overflow-y-scroll",children:[e.jsx("div",{className:"sticky top-0 z-20 w-full",children:e.jsx(A,{})}),e.jsx("main",{className:"px-4 sm:px-6 py-5 lg:px-8 relative",children:r})]})]})}export{B as A};
