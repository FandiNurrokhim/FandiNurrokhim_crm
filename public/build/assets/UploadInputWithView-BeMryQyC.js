import{r as g,j as e}from"./app-DdujxetC.js";import{u as v}from"./useTranslation-8BayAZb4.js";import{F as w}from"./TextInput-BmMh6PqU.js";import{F}from"./XMarkIcon-Duw6_-fQ.js";const k=({id:n,name:i,label:d,accept:o=".pdf,.jpg,.jpeg,.png",value:l,onChange:t,error:x,required:c=!1,maxSizeMB:m=1})=>{const{t:a}=v(),r=g.useRef(),[p,f]=g.useState(""),j=s=>s>=1?`${s.toFixed(1)} MB`:`${(s*1024).toFixed(0)} KB`,u=s=>{const h=s.target.files[0];if(h&&h.size>m*1024*1024){const N=j(m);f(`${d} ${a("global.maxSizeError",{max:N})}`),r.current&&(r.current.value=""),t&&t({target:{name:i,files:[]}});return}f(""),t&&t(s)},b=()=>{r.current&&(r.current.value=""),t&&t({target:{name:i,files:[]}})},y=()=>{let s=`/${l.replace(/^\/+/,"")}`;window.open(s,"_blank","noopener,noreferrer")};return e.jsxs("div",{children:[e.jsxs("label",{htmlFor:n,className:"block text-sm mb-1",children:[a("global.upload")," ",d,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",o,") ",c&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),l?e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md p-2 text-xs text-green-600",role:"alert","aria-live":"polite",children:[e.jsx("span",{className:"inline-flex items-center justify-center mr-2",children:e.jsx("img",{src:"/assets/icons/upload.svg",alt:"PDF Icon",className:"h-6 w-6"})}),e.jsx("span",{className:"flex-1",children:a("global.fileUploaded")}),typeof l=="string"&&e.jsx("button",{type:"button","aria-label":"View uploaded file",className:"text-gray-700 hover:text-gray-900 focus:outline-none",onClick:y,children:e.jsx(w,{className:"h-5 w-5 inline"})}),e.jsx("button",{type:"button",className:"text-red-600 hover:text-red-800 ml-2",title:"Hapus file",onClick:b,children:e.jsx(F,{className:"h-5 w-5 inline"})})]}):e.jsxs("label",{className:"relative flex items-center w-full border border-gray-200 rounded-md bg-gray-50 px-3 py-2 text-xs text-gray-600 cursor-pointer",children:[e.jsx("span",{className:"inline-flex items-center justify-center mr-2",children:e.jsx("img",{src:"/assets/icons/upload.svg",alt:"PDF Icon",className:"h-6 w-6"})}),e.jsx("div",{className:"font-medium text-gray-500 bg-gray-300 rounded-md px-3 py-1 hover:bg-blue-600 hover:text-white cursor-pointer",children:a("global.chooseFile")}),e.jsx("input",{ref:r,id:n,name:i,type:"file",accept:o,onChange:u,required:c&&!l,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsx("span",{className:"ml-4 text-xs text-gray-400 select-none pointer-events-none",children:a("global.noFileSelected")})]}),e.jsx("input",{ref:r,id:`hidden_${n}`,name:i,type:"file",accept:o,onChange:u,required:c&&!l,className:"hidden"}),(x||p)&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:x||p})]})};export{k as U};
