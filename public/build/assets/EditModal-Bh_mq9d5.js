import{v as b,j as t,m as v}from"./app-DdujxetC.js";import{S as g}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{M as E}from"./Modal-C4vY61V8.js";import{I}from"./InputLabel-BzWnVHML.js";import{T as M}from"./TextInput-BmMh6PqU.js";import{I as S}from"./InputError-Cg3yzoP4.js";import"./index-Rb7ez85R.js";import{a as w}from"./getErrorMessage-BiY5rOY1.js";import{U as T}from"./UploadInputWithView-BeMryQyC.js";import{u as y}from"./useTranslation-8BayAZb4.js";import"./PrimaryButton-DWDteuQq.js";import"./transition-BZAsKsJL.js";import"./dialog-Cmhm8y39.js";import"./index-BnYHGNjJ.js";import"./floating-ui.dom-AzuEyJcm.js";import"./XMarkIcon-Duw6_-fQ.js";const G=({isOpen:u,onClose:s,partner:r,setRefetch:c})=>{if(!r)return null;const{t:e,i18n:d}=y(),{data:i,setData:n,processing:f,errors:l,reset:p}=b({name:r.name||"",image:r.image||null}),h=a=>{n(a.target.name,a.target.value)},x=a=>{a.preventDefault();const o={...i,_method:"put"};o.image&&typeof o.image!="object"&&delete o.image,v.post(`/admin/partner/${r.id}`,{...o,_method:"put"},{onSuccess:()=>{p(),s(),c(m=>!m),g.fire({icon:"success",title:e("global.swalSuccess"),text:e("partner.pageTitle")+" "+e("global.updatedMessage")})},onError:m=>{const j=w(m.message,d.language);console.error("Error updating partner:",m),g.fire("Error!",j,"error")}})};return t.jsxs(E,{show:u,onClose:s,title:e("partner.pageTitle"),type:"edit",maxWidth:"2xl",onCancel:()=>{s(),p()},processing:f,onSubmit:x,children:[t.jsxs("div",{children:[t.jsx(I,{htmlFor:"name",value:`${e("global.name")}`}),t.jsx(M,{id:"name",name:"name",value:i.name,onChange:h,className:"mt-1 block w-full",required:!0,autoComplete:"name",placeholder:e("global.name")}),t.jsx(S,{message:l.name,className:"mt-2"})]}),t.jsx(T,{id:"image",name:"image",label:"Logo",accept:".jpg,.jpeg,.png",maxSizeMB:.5,onChange:a=>n("image",a.target.files[0]??null),value:i.image,error:l.image})]})};export{G as default};
