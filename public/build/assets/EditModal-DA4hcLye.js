import{v as E,j as e,m as I}from"./app-DdujxetC.js";import{S as c}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{M as N}from"./Modal-C4vY61V8.js";import{I as u}from"./InputLabel-BzWnVHML.js";import{T as x}from"./TextInput-BmMh6PqU.js";import{I as g}from"./InputError-Cg3yzoP4.js";import{A as M}from"./ActiveToogle-B-WZcVjZ.js";import{U as S}from"./UploadInputWithView-BeMryQyC.js";import{a as w}from"./getErrorMessage-BiY5rOY1.js";import{u as C}from"./useTranslation-8BayAZb4.js";import"./PrimaryButton-DWDteuQq.js";import"./index-Rb7ez85R.js";import"./index-BnYHGNjJ.js";import"./floating-ui.dom-AzuEyJcm.js";import"./transition-BZAsKsJL.js";import"./dialog-Cmhm8y39.js";import"./XMarkIcon-Duw6_-fQ.js";const J=({isOpen:h,onClose:o,category:s,setRefetch:_})=>{if(!s)return null;const{t:a,i18n:f}=C(),{data:m,setData:l,processing:j,errors:i,reset:p}=E({name_id:s.name_id||"",name_en:s.name_en||"",image:s.image||null,is_active:s.is_active||!1,message:""}),d=t=>{l(t.target.name,t.target.value)},v=t=>{t.preventDefault();const n={...m,_method:"put"};n.image&&typeof n.image!="object"&&delete n.image,I.post(`/admin/category/${s.id}`,{...n,_method:"put"},{onSuccess:()=>{p(),o(),_(r=>!r),c.fire({icon:"success",title:a("global.swalSuccess"),text:a("category.pageTitle")+" "+a("global.updatedMessage")})},onError:r=>{const b=w(r.message,f.language);console.error("Error updating category:",r),c.fire("Error!",b,"error")}})};return e.jsxs(N,{show:h,onClose:o,title:a("category.pageTitle"),type:"edit",maxWidth:"2xl",onCancel:()=>{o(),p()},processing:j,onSubmit:v,children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"name_id",value:`${a("global.name")} (ID)`}),e.jsx("span",{className:"text-xs text-gray-500",children:a("global.nameIndonesian")||"Nama dalam Bahasa Indonesia"}),e.jsx(x,{id:"name_id",name:"name_id",value:m.name_id,onChange:d,className:"mt-1 block w-full",placeholder:"pedas",required:!0,autoComplete:"name_id"}),e.jsx(g,{message:i.name_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"name_en",value:`${a("global.name")} (EN)`}),e.jsx("span",{className:"text-xs text-gray-500",children:a("global.nameEnglish")||"Name in English"}),e.jsx(x,{id:"name_en",name:"name_en",value:m.name_en,onChange:d,className:"mt-1 block w-full",placeholder:"spicy",required:!0,autoComplete:"name_en"}),e.jsx(g,{message:i.name_en,className:"mt-2"})]}),e.jsx(S,{id:"image",name:"image",label:a("global.image"),accept:".jpg,.jpeg,.png",maxSizeMB:.5,onChange:t=>l("image",t.target.files[0]??null),value:m.image,error:i.image}),e.jsx(M,{value:m.is_active,onChange:t=>l("is_active",t)}),e.jsx(g,{message:i.is_active,className:"mt-2"})]})};export{J as default};
