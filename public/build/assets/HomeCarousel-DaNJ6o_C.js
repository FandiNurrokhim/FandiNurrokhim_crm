import{b as Ct,q as Et,r as pt,j as et,Y as jt}from"./app-DdujxetC.js";import{g as zt}from"./imageHelper-19DfnHcd.js";var ut={},mt;function At(){if(mt)return ut;mt=1,Object.defineProperty(ut,"__esModule",{value:!0});var Y=Ct();function X(t){return Array.prototype.slice.call(t)}function Z(t,r){var e=Math.floor(t);return e===r||e+1===r?t:r}function G(){return Date.now()}function tt(t,r,e){if(r="data-keen-slider-"+r,e===null)return t.removeAttribute(r);t.setAttribute(r,e||"")}function U(t,r){return r=r||document,typeof t=="function"&&(t=t(r)),Array.isArray(t)?t:typeof t=="string"?X(r.querySelectorAll(t)):t instanceof HTMLElement?[t]:t instanceof NodeList?X(t):[]}function J(t){t.raw&&(t=t.raw),t.cancelable&&!t.defaultPrevented&&t.preventDefault()}function Q(t){t.raw&&(t=t.raw),t.stopPropagation&&t.stopPropagation()}function D(){var t=[];return{add:function(r,e,o,u){r.addListener?r.addListener(o):r.addEventListener(e,o,u),t.push([r,e,o,u])},input:function(r,e,o,u){this.add(r,e,function(a){return function(n){n.nativeEvent&&(n=n.nativeEvent);var k=n.changedTouches||[],x=n.targetTouches||[],d=n.detail&&n.detail.x?n.detail:null;return a({id:d?d.identifier?d.identifier:"i":x[0]?x[0]?x[0].identifier:"e":"d",idChanged:d?d.identifier?d.identifier:"i":k[0]?k[0]?k[0].identifier:"e":"d",raw:n,x:d&&d.x?d.x:x[0]?x[0].screenX:d?d.x:n.pageX,y:d&&d.y?d.y:x[0]?x[0].screenY:d?d.y:n.pageY})}}(o),u)},purge:function(){t.forEach(function(r){r[0].removeListener?r[0].removeListener(r[2]):r[0].removeEventListener(r[1],r[2],r[3])}),t=[]}}}function B(t,r,e){return Math.min(Math.max(t,r),e)}function q(t){return(t>0?1:0)-(t<0?1:0)||+t}function it(t){var r=t.getBoundingClientRect();return{height:Z(r.height,t.offsetHeight),width:Z(r.width,t.offsetWidth)}}function N(t,r,e,o){var u=t&&t[r];return u==null?e:o&&typeof u=="function"?u():u}function H(t){return Math.round(1e6*t)/1e6}function st(t,r){if(t===r)return!0;var e=typeof t;if(e!==typeof r)return!1;if(e!=="object"||t===null||r===null)return e==="function"&&t.toString()===r.toString();if(t.length!==r.length||Object.getOwnPropertyNames(t).length!==Object.getOwnPropertyNames(r).length)return!1;for(var o in t)if(!st(t[o],r[o]))return!1;return!0}var rt=function(){return rt=Object.assign||function(t){for(var r,e=1,o=arguments.length;e<o;e++)for(var u in r=arguments[e])Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u]);return t},rt.apply(this,arguments)};function ct(t,r,e){for(var o,u=0,a=r.length;u<a;u++)!o&&u in r||(o||(o=Array.prototype.slice.call(r,0,u)),o[u]=r[u]);return t.concat(o||Array.prototype.slice.call(r))}function ht(t){var r,e,o,u,a,n;function k(M){n||(n=M),x(!0);var E=M-n;E>o&&(E=o);var m=u[e];if(m[3]<E)return e++,k(M);var T=m[2],j=m[4],v=m[0],h=m[1]*(0,m[5])(j===0?1:(E-T)/j);if(h&&t.track.to(v+h),E<o)return C();n=null,x(!1),d(null),t.emit("animationEnded")}function x(M){r.active=M}function d(M){r.targetIdx=M}function C(){var M;M=k,a=window.requestAnimationFrame(M)}function S(){var M;M=a,window.cancelAnimationFrame(M),x(!1),d(null),n&&t.emit("animationStopped"),n=null}return r={active:!1,start:function(M){if(S(),t.track.details){var E=0,m=t.track.details.position;e=0,o=0,u=M.map(function(T){var j,v=Number(m),h=(j=T.earlyExit)!==null&&j!==void 0?j:T.duration,p=T.easing,_=T.distance*p(h/T.duration)||0;m+=_;var z=o;return o+=h,E+=_,[v,T.distance,z,o,T.duration,p]}),d(t.track.distToIdx(E)),C(),t.emit("animationStarted")}},stop:S,targetIdx:null}}function gt(t){var r,e,o,u,a,n,k,x,d,C,S,M,E,m,T=1/0,j=[],v=null,h=0;function p(f){W(h+f)}function _(f){var c=z(h+f).abs;return w(c)?c:null}function z(f){var c=Math.floor(Math.abs(H(f/e))),i=H((f%e+e)%e);i===e&&(i=0);var b=q(f),l=k.indexOf(ct([],k).reduce(function(A,I){return Math.abs(I-i)<Math.abs(A-i)?I:A})),y=l;return b<0&&c++,l===n&&(y=0,c+=b>0?1:-1),{abs:y+c*n*b,origin:l,rel:y}}function O(f,c,i){var b;if(c||!V())return s(f,i);if(!w(f))return null;var l=z(i??h),y=l.abs,A=f-l.rel,I=y+A;b=s(I);var L=s(I-n*q(A));return(L!==null&&Math.abs(L)<Math.abs(b)||b===null)&&(b=L),H(b)}function s(f,c){if(c==null&&(c=H(h)),!w(f)||f===null)return null;f=Math.round(f);var i=z(c),b=i.abs,l=i.rel,y=i.origin,A=$(f),I=(c%e+e)%e,L=k[y],F=Math.floor((f-(b-l))/n)*e;return H(L-I-L+k[A]+F+(y===n?e:0))}function w(f){return R(f)===f}function R(f){return B(f,d,C)}function V(){return u.loop}function $(f){return(f%n+n)%n}function W(f){var c;c=f-h,j.push({distance:c,timestamp:G()}),j.length>6&&(j=j.slice(-6)),h=H(f);var i=g().abs;if(i!==v){var b=v!==null;v=i,b&&t.emit("slideChanged")}}function g(f){var c=f?null:function(){if(n){var i=V(),b=i?(h%e+e)%e:h,l=(i?h%e:h)-a[0][2],y=0-(l<0&&i?e-Math.abs(l):l),A=0,I=z(h),L=I.abs,F=I.rel,at=a[F][2],ot=a.map(function(K,Mt){var P=y+A;(P<0-K[0]||P>1)&&(P+=(Math.abs(P)>e-1&&i?e:0)*q(-P));var lt=Mt-F,dt=q(lt),nt=lt+L;i&&(dt===-1&&P>at&&(nt+=n),dt===1&&P<at&&(nt-=n),S!==null&&nt<S&&(P+=e),M!==null&&nt>M&&(P-=e));var ft=P+K[0]+K[1],Tt=Math.max(P>=0&&ft<=1?1:ft<0||P>1?0:P<0?Math.min(1,(K[0]+P)/K[0]):(1-P)/K[0],0);return A+=K[0]+K[1],{abs:nt,distance:u.rtl?-1*P+1-K[0]:P,portion:Tt,size:K[0]}});return L=R(L),F=$(L),{abs:R(L),length:o,max:m,maxIdx:C,min:E,minIdx:d,position:h,progress:i?b/e:h/o,rel:F,slides:ot,slidesLength:e}}}();return r.details=c,t.emit("detailsChanged"),c}return r={absToRel:$,add:p,details:null,distToIdx:_,idxToDist:O,init:function(f){if(function(){if(u=t.options,a=(u.trackConfig||[]).map(function(l){return[N(l,"size",1),N(l,"spacing",0),N(l,"origin",0)]}),n=a.length){e=H(a.reduce(function(l,y){return l+y[0]+y[1]},0));var i,b=n-1;o=H(e+a[0][2]-a[b][0]-a[b][2]-a[b][1]),k=a.reduce(function(l,y){if(!l)return[0];var A=a[l.length-1],I=l[l.length-1]+(A[0]+A[2])+A[1];return I-=y[2],l[l.length-1]>I&&(I=l[l.length-1]),I=H(I),l.push(I),(!i||i<I)&&(x=l.length-1),i=I,l},null),o===0&&(x=0),k.push(H(e))}}(),!n)return g(!0);var c;(function(){var i=t.options.range,b=t.options.loop;S=d=b?N(b,"min",-1/0):0,M=C=b?N(b,"max",T):x;var l=N(i,"min",null),y=N(i,"max",null);l!==null&&(d=l),y!==null&&(C=y),E=d===-1/0?d:t.track.idxToDist(d||0,!0,0),m=C===T?C:O(C,!0,0),y===null&&(M=C),N(i,"align",!1)&&C!==T&&a[$(C)][2]===0&&(m-=1-a[$(C)][0],C=_(m-h)),E=H(E),m=H(m)})(),c=f,Number(c)===c?p(s(R(f))):g()},to:W,velocity:function(){var f=G(),c=j.reduce(function(i,b){var l=b.distance,y=b.timestamp;return f-y>200||(q(l)!==q(i.distance)&&i.distance&&(i={distance:0,lastTimestamp:0,time:0}),i.time&&(i.distance+=l),i.lastTimestamp&&(i.time+=y-i.lastTimestamp),i.lastTimestamp=y),i},{distance:0,lastTimestamp:0,time:0});return c.distance/c.time||0}}}function bt(t){var r,e,o,u,a,n,k,x;function d(v){return 2*v}function C(v){return B(v,k,x)}function S(v){return 1-Math.pow(1-v,3)}function M(){return o?t.track.velocity():0}function E(){j();var v=t.options.mode==="free-snap",h=t.track,p=M();u=q(p);var _=t.track.details,z=[];if(p||!v){var O=m(p),s=O.dist,w=O.dur;if(w=d(w),s*=u,v){var R=h.idxToDist(h.distToIdx(s),!0);R&&(s=R)}z.push({distance:s,duration:w,easing:S});var V=_.position,$=V+s;if($<a||$>n){var W=$<a?a-V:n-V,g=0,f=p;if(q(W)===u){var c=Math.min(Math.abs(W)/Math.abs(s),1),i=function(y){return 1-Math.pow(1-y,1/3)}(c)*w;z[0].earlyExit=i,f=p*(1-c)}else z[0].earlyExit=0,g+=W;var b=m(f,100),l=b.dist*u;t.options.rubberband&&(z.push({distance:l,duration:d(b.dur),easing:S}),z.push({distance:-l+g,duration:500,easing:S}))}t.animator.start(z)}else t.moveToIdx(C(_.abs),!0,{duration:500,easing:function(y){return 1+--y*y*y*y*y}})}function m(v,h){h===void 0&&(h=1e3);var p=147e-9+(v=Math.abs(v))/h;return{dist:Math.pow(v,2)/p,dur:v/p}}function T(){var v=t.track.details;v&&(a=v.min,n=v.max,k=v.minIdx,x=v.maxIdx)}function j(){t.animator.stop()}t.on("updated",T),t.on("optionsChanged",T),t.on("created",T),t.on("dragStarted",function(){o=!1,j(),r=e=t.track.details.abs}),t.on("dragChecked",function(){o=!0}),t.on("dragEnded",function(){var v=t.options.mode;v==="snap"&&function(){var h=t.track,p=t.track.details,_=p.position,z=q(M());(_>n||_<a)&&(z=0);var O=r+z;p.slides[h.absToRel(O)].portion===0&&(O-=z),r!==e&&(O=e),q(h.idxToDist(O,!0))!==z&&(O+=z),O=C(O);var s=h.idxToDist(O,!0);t.animator.start([{distance:s,duration:500,easing:function(w){return 1+--w*w*w*w*w}}])}(),v!=="free"&&v!=="free-snap"||E()}),t.on("dragged",function(){e=t.track.details.abs})}function xt(t){var r,e,o,u,a,n,k,x,d,C,S,M,E,m,T,j,v,h,p=D();function _(g){if(n&&x===g.id){var f=w(g);if(d){if(!s(g))return O(g);C=f,d=!1,t.emit("dragChecked")}if(j)return C=f;J(g);var c=function(b){if(v===-1/0&&h===1/0)return b;var l=t.track.details,y=l.length,A=l.position,I=B(b,v-A,h-A);if(y===0)return 0;if(!t.options.rubberband)return I;if(A<=h&&A>=v||A<v&&e>0||A>h&&e<0)return b;var L=(A<v?A-v:A-h)/y,F=u*y,at=Math.abs(L*F),ot=Math.max(0,1-at/a*2);return ot*ot*b}(k(C-f)/u*o);e=q(c);var i=t.track.details.position;(i>v&&i<h||i===v&&e>0||i===h&&e<0)&&Q(g),S+=c,!M&&Math.abs(S*u)>5&&(M=!0),t.track.add(c),C=f,t.emit("dragged")}}function z(g){!n&&t.track.details&&t.track.details.length&&(S=0,n=!0,M=!1,d=!0,x=g.id,s(g),C=w(g),t.emit("dragStarted"))}function O(g){n&&x===g.idChanged&&(n=!1,t.emit("dragEnded"))}function s(g){var f=R(),c=f?g.y:g.x,i=f?g.x:g.y,b=E!==void 0&&m!==void 0&&Math.abs(m-i)<=Math.abs(E-c);return E=c,m=i,b}function w(g){return R()?g.y:g.x}function R(){return t.options.vertical}function V(){u=t.size,a=R()?window.innerHeight:window.innerWidth;var g=t.track.details;g&&(v=g.min,h=g.max)}function $(g){M&&(Q(g),J(g))}function W(){if(p.purge(),t.options.drag&&!t.options.disabled){var g;g=t.options.dragSpeed||1,k=typeof g=="function"?g:function(c){return c*g},o=t.options.rtl?-1:1,V(),r=t.container,function(){var c="data-keen-slider-clickable";U("[".concat(c,"]:not([").concat(c,"=false])"),r).map(function(i){p.add(i,"dragstart",Q),p.add(i,"mousedown",Q),p.add(i,"touchstart",Q)})}(),p.add(r,"dragstart",function(c){J(c)}),p.add(r,"click",$,{capture:!0}),p.input(r,"ksDragStart",z),p.input(r,"ksDrag",_),p.input(r,"ksDragEnd",O),p.input(r,"mousedown",z),p.input(r,"mousemove",_),p.input(r,"mouseleave",O),p.input(r,"mouseup",O),p.input(r,"touchstart",z,{passive:!0}),p.input(r,"touchmove",_,{passive:!1}),p.input(r,"touchend",O),p.input(r,"touchcancel",O),p.add(window,"wheel",function(c){n&&J(c)});var f="data-keen-slider-scrollable";U("[".concat(f,"]:not([").concat(f,"=false])"),t.container).map(function(c){return function(i){var b;p.input(i,"touchstart",function(l){b=w(l),j=!0,T=!0},{passive:!0}),p.input(i,"touchmove",function(l){var y=R(),A=y?i.scrollHeight-i.clientHeight:i.scrollWidth-i.clientWidth,I=b-w(l),L=y?i.scrollTop:i.scrollLeft,F=y&&i.style.overflowY==="scroll"||!y&&i.style.overflowX==="scroll";if(b=w(l),(I<0&&L>0||I>0&&L<A)&&T&&F)return j=!0;T=!1,J(l),j=!1}),p.input(i,"touchend",function(){j=!1})}(c)})}}t.on("updated",V),t.on("optionsChanged",W),t.on("created",W),t.on("destroyed",p.purge)}function yt(t){var r,e,o=null;function u(E,m,T){t.animator.active?n(E,m,T):requestAnimationFrame(function(){return n(E,m,T)})}function a(){u(!1,!1,e)}function n(E,m,T){var j=0,v=t.size,h=t.track.details;if(h&&r){var p=h.slides;r.forEach(function(_,z){if(E)!o&&m&&x(_,null,T),d(_,null,T);else{if(!p[z])return;var O=p[z].size*v;!o&&m&&x(_,O,T),d(_,p[z].distance*v-j,T),j+=O}})}}function k(E){return t.options.renderMode==="performance"?Math.round(E):E}function x(E,m,T){var j=T?"height":"width";m!==null&&(m=k(m)+"px"),E.style["min-"+j]=m,E.style["max-"+j]=m}function d(E,m,T){if(m!==null){m=k(m);var j=T?m:0;m="translate3d(".concat(T?0:m,"px, ").concat(j,"px, 0)")}E.style.transform=m,E.style["-webkit-transform"]=m}function C(){r&&(n(!0,!0,e),r=null),t.on("detailsChanged",a,!0)}function S(){u(!1,!0,e)}function M(){C(),e=t.options.vertical,t.options.disabled||t.options.renderMode==="custom"||(o=N(t.options.slides,"perView",null)==="auto",t.on("detailsChanged",a),(r=t.slides).length&&S())}t.on("created",M),t.on("optionsChanged",M),t.on("beforeOptionsChanged",function(){C()}),t.on("updated",S),t.on("destroyed",C)}function kt(t,r){return function(e){var o,u,a,n,k,x=D();function d(s){var w;tt(e.container,"reverse",(w=e.container,window.getComputedStyle(w,null).getPropertyValue("direction")!=="rtl"||s?null:"")),tt(e.container,"v",e.options.vertical&&!s?"":null),tt(e.container,"disabled",e.options.disabled&&!s?"":null)}function C(){S()&&j()}function S(){var s=null;if(n.forEach(function(R){R.matches&&(s=R.__media)}),s===o)return!1;o||e.emit("beforeOptionsChanged"),o=s;var w=s?a.breakpoints[s]:a;return e.options=rt(rt({},a),w),d(),z(),O(),h(),!0}function M(s){var w=it(s);return(e.options.vertical?w.height:w.width)/e.size||1}function E(){return e.options.trackConfig.length}function m(s){for(var w in o=!1,a=rt(rt({},r),s),x.purge(),u=e.size,n=[],a.breakpoints||[]){var R=window.matchMedia(w);R.__media=w,n.push(R),x.add(R,"change",C)}x.add(window,"orientationchange",_),x.add(window,"resize",p),S()}function T(s){e.animator.stop();var w=e.track.details;e.track.init(s??(w?w.abs:0))}function j(s){T(s),e.emit("optionsChanged")}function v(s,w){if(s)return m(s),void j(w);z(),O();var R=E();h(),E()!==R?j(w):T(w),e.emit("updated")}function h(){var s=e.options.slides;if(typeof s=="function")return e.options.trackConfig=s(e.size,e.slides);for(var w=e.slides,R=w.length,V=typeof s=="number"?s:N(s,"number",R,!0),$=[],W=N(s,"perView",1,!0),g=N(s,"spacing",0,!0)/e.size||0,f=W==="auto"?g:g/W,c=N(s,"origin","auto"),i=0,b=0;b<V;b++){var l=W==="auto"?M(w[b]):1/W-g+f,y=c==="center"?.5-l/2:c==="auto"?0:c;$.push({origin:y,size:l,spacing:g}),i+=l}if(i+=g*(V-1),c==="auto"&&!e.options.loop&&W!==1){var A=0;$.map(function(I){var L=i-A;return A+=I.size+g,L>=1||(I.origin=1-L-(i>1?0:1-i)),I})}e.options.trackConfig=$}function p(){z();var s=e.size;e.options.disabled||s===u||(u=s,v())}function _(){p(),setTimeout(p,500),setTimeout(p,2e3)}function z(){var s=it(e.container);e.size=(e.options.vertical?s.height:s.width)||1}function O(){e.slides=U(e.options.selector,e.container)}e.container=(k=U(t,document)).length?k[0]:null,e.destroy=function(){x.purge(),e.emit("destroyed"),d(!0)},e.prev=function(){e.moveToIdx(e.track.details.abs-1,!0)},e.next=function(){e.moveToIdx(e.track.details.abs+1,!0)},e.update=v,m(e.options)}}var wt=function(t,r,e){try{return function(o,u){var a,n={};return a={emit:function(k){n[k]&&n[k].forEach(function(d){d(a)});var x=a.options&&a.options[k];x&&x(a)},moveToIdx:function(k,x,d){var C=a.track.idxToDist(k,x);if(C){var S=a.options.defaultAnimation;a.animator.start([{distance:C,duration:N(d||S,"duration",500),easing:N(d||S,"easing",function(M){return 1+--M*M*M*M*M})}])}},on:function(k,x,d){d===void 0&&(d=!1),n[k]||(n[k]=[]);var C=n[k].indexOf(x);C>-1?d&&delete n[k][C]:d||n[k].push(x)},options:o},function(){if(a.track=gt(a),a.animator=ht(a),u)for(var k=0,x=u;k<x.length;k++)(0,x[k])(a);a.track.init(a.options.initial||0),a.emit("created")}(),a}(r,ct([kt(t,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),yt,xt,bt],e||[],!0))}catch(o){console.error(o)}};return ut.useKeenSlider=function(t,r){var e=Y.useRef(null),o=Y.useRef(!1),u=Y.useRef(t),a=Y.useCallback(function(n){n?(u.current=t,e.current=new wt(n,t,r),o.current=!1):(e.current&&e.current.destroy&&e.current.destroy(),e.current=null)},[]);return Y.useEffect(function(){st(u.current,t)||(u.current=t,e.current&&e.current.update(u.current))},[t]),[a,e]},ut}var It=At();const vt=[{label:"Makanan",bg:"bg-gradient-to-r from-yellow-400 to-[#D9B36A]"},{label:"Minuman",bg:"bg-gradient-to-r from-blue-300 to-blue-500"},{label:"Kudapan",bg:"bg-gradient-to-r from-green-300 to-green-500"}],Dt=Y=>{function X(){Y.slides.forEach((Z,G)=>{const tt=Math.abs(Y.track.details.rel-G);Z.style.transform=`scale(${1-tt*.15})`})}Y.on("detailsChanged",X),Y.on("created",X)},Rt=({previewBanners:Y=[],isPreview:X=!1})=>{const Z=(Et().props.banners||[]).filter(D=>D.type==="hero");let G=[];X&&Y.length>0?G=vt.map(D=>{const B=Y.find(q=>q.label===D.label);return B?{...D,...B}:D}):G=Z.length>0?Z:vt;const[tt,U]=It.useKeenSlider({loop:!0,slides:{perView:1.2,spacing:24},mode:"free-snap",renderMode:"performance",created(){Q()},slideChanged(){Q()}},[Dt]),J=pt.useRef(),Q=()=>{clearTimeout(J.current),J.current=setTimeout(()=>{U.current&&U.current.next()},3e3)};return pt.useEffect(()=>(Q(),()=>clearTimeout(J.current)),[]),et.jsxs("div",{className:"relative px-2 py-2",children:[et.jsx("div",{ref:tt,className:"keen-slider rounded-xl md:h-[320px] h-[160px]",children:G.map((D,B)=>et.jsx(jt,{href:X?"#":D.link||(D.label?route("home.search",{category:D.label}):"#"),target:D.link&&D.link!=="#"?"_blank":void 0,rel:D.link&&D.link!=="#"?"noopener noreferrer":void 0,className:"keen-slider__slide flex justify-center items-center rounded-xl overflow-hidden ",style:{minWidth:0},children:D.image?et.jsx("img",{src:X?D.image:zt(D.image,D.title),alt:D.title||D.label,className:"w-full h-40 md:h-80 object-cover rounded-xl transition-transform duration-500"}):et.jsx("div",{className:`w-full h-40 md:h-80 flex justify-center items-center rounded-xl text-3xl font-bold text-[#0E1C2D] ${D.bg}`,children:D.title||D.label})},D.id||B))}),et.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-2",children:G.map((D,B)=>{var q,it,N;return et.jsx("button",{className:`w-3 h-3 rounded-full transition-colors duration-300 ${((N=(it=(q=U.current)==null?void 0:q.track)==null?void 0:it.details)==null?void 0:N.rel)===B?"bg-[#D9B36A]":"bg-white opacity-60"}`,onClick:()=>{var H;return(H=U.current)==null?void 0:H.moveToIdx(B)},"aria-label":`Go to slide ${B+1}`,type:"button"},B)})})]})};export{Rt as H,It as r};
