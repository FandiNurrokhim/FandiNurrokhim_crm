import{v as b,j as r,m as j}from"./app-DdujxetC.js";import{S as l}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{M as v}from"./Modal-C4vY61V8.js";import{I as E}from"./InputLabel-BzWnVHML.js";import{T}from"./TextInput-BmMh6PqU.js";import{I}from"./InputError-Cg3yzoP4.js";import{P as M}from"./PermissionToggle-C1epi5W2.js";import{a as S}from"./getErrorMessage-BiY5rOY1.js";import{u as w}from"./useTranslation-8BayAZb4.js";import"./PrimaryButton-DWDteuQq.js";import"./index-Rb7ez85R.js";import"./index-BnYHGNjJ.js";import"./floating-ui.dom-AzuEyJcm.js";import"./transition-BZAsKsJL.js";import"./dialog-Cmhm8y39.js";const B=({isOpen:p,onClose:s,role:t,setRefetch:u})=>{if(!t)return null;const{t:e,i18n:g}=w(),{data:m,setData:n,processing:c,errors:d,reset:i}=b({name:t.name||"",permission:t.permission||[],message:""}),f=a=>{n(a.target.name,a.target.value)},x=a=>{a.preventDefault(),j.post(`/admin/role/${t.id}`,{...m,_method:"put"},{onSuccess:()=>{i(),s(),u(o=>!o),l.fire({icon:"success",title:e("global.swalSuccess"),text:e("role.pageTitle")+" "+e("global.updatedMessage")})},onError:o=>{const h=S(o.message,g.language);console.error("Error updating role:",o),l.fire("Error!",h,"error")}})};return r.jsxs(v,{show:p,onClose:s,title:e("category.pageTitle"),type:"edit",maxWidth:"2xl",onCancel:()=>{s(),i()},processing:c,onSubmit:x,children:[r.jsxs("div",{children:[r.jsx(E,{htmlFor:"name",value:`${e("global.name")}`}),r.jsx(T,{id:"name",name:"name",value:m.name,onChange:f,className:"mt-1 block w-full",required:!0,autoComplete:"name",placeholder:`${e("global.name")} ${e("role.pageTitle")}`}),r.jsx(I,{message:d.name,className:"mt-2"})]}),r.jsx(M,{value:m.permission,onChange:a=>n("permission",a)})]})};export{B as default};
