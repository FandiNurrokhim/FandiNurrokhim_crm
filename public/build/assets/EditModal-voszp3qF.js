import{v as E,j as r,m as I}from"./app-DdujxetC.js";import{S as f}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{M}from"./Modal-C4vY61V8.js";import{I as p}from"./InputLabel-BzWnVHML.js";import{T as u}from"./TextInput-BmMh6PqU.js";import{I as c}from"./InputError-Cg3yzoP4.js";import{U as w}from"./UploadInputWithView-BeMryQyC.js";import{a as C}from"./getErrorMessage-BiY5rOY1.js";import{u as S}from"./useTranslation-8BayAZb4.js";import"./PrimaryButton-DWDteuQq.js";import"./index-Rb7ez85R.js";import"./index-BnYHGNjJ.js";import"./floating-ui.dom-AzuEyJcm.js";import"./transition-BZAsKsJL.js";import"./dialog-Cmhm8y39.js";import"./XMarkIcon-Duw6_-fQ.js";const G=({isOpen:h,onClose:l,setRefetch:x,stand:e})=>{const{t:i,i18n:j}=S(),{data:a,setData:d,processing:_,errors:t,reset:g}=E({name:(e==null?void 0:e.name)||"",image:(e==null?void 0:e.image)||null,description_id:(e==null?void 0:e.description_id)||"",description_en:(e==null?void 0:e.description_en)||""}),n=o=>{d(o.target.name,o.target.value)},b=o=>{o.preventDefault();const s={...a,_method:"put"};s.image&&typeof s.image!="object"&&delete s.image,I.post(`/admin/stand/${e.id}`,{...s,_method:"put"},{onSuccess:()=>{g(),l(),x(m=>!m),f.fire({icon:"success",title:i("global.swalSuccess"),text:i("stand.pageTitle")+" "+i("global.updatedMessage")})},onError:m=>{const v=C(m.message,j.language);console.error("Error updating stand:",m),f.fire("Error!",v,"error")}})};return r.jsxs(M,{show:h,onClose:l,title:i("stand.pageTitle"),type:"edit",maxWidth:"2xl",onCancel:()=>{l(),g()},processing:_,onSubmit:b,children:[r.jsx(p,{htmlFor:"name",value:`${i("global.name")}`}),r.jsx(u,{id:"name",name:"name",value:a.name,onChange:n,className:"block w-full",placeholder:i("global.name"),required:!0,autoComplete:"off"}),r.jsx(c,{message:t.name}),r.jsx(w,{id:"image",name:"image",label:i("global.image"),accept:".jpg,.jpeg,.png",maxSizeMB:.5,onChange:o=>d("image",o.target.files[0]),value:a.image,error:t.image,required:!0}),r.jsx(p,{htmlFor:"description_id",value:`${i("global.description")} (ID)`,required:!0}),r.jsx(u,{id:"description_id",name:"description_id",value:a.description_id,onChange:n,className:"block w-full",placeholder:"Masukkan deskripsi dalam Bahasa Indonesia",autoComplete:"off",required:!0}),r.jsx(c,{message:t.description_id}),r.jsx(p,{htmlFor:"description_en",value:`${i("global.description")} (EN)`,required:!0}),r.jsx(u,{id:"description_en",name:"description_en",value:a.description_en,onChange:n,className:"block w-full",placeholder:"Enter description in English",autoComplete:"off",required:!0}),r.jsx(c,{message:t.description_en})]})};export{G as default};
