import{j as v,h as Wt,r}from"./app-DdujxetC.js";import{I as Xt}from"./index.es-BVb1l-Mq.js";import{H as Yt}from"./HomeLayout-DOTPFD1x.js";import{a as W,c as Qe,_ as Rt,e as Ze,b as Y,d as ae,f as fe}from"./toConsumableArray-Bj8NDksB.js";import{a as Gt,r as ze}from"./index-Rb7ez85R.js";import{r as Kt}from"./index-BnYHGNjJ.js";import{u as Ke}from"./useTranslation-8BayAZb4.js";import{C as qt}from"./CardProduct-BuaMj2uS.js";import{C as xt}from"./CardProductSkeleton-DR23j_dc.js";import{F as Vt}from"./XMarkIcon-Duw6_-fQ.js";import"./ApplicationLogo-DDW-aaz4.js";import"./Logo-Dq8nsJV3.js";import"./LoginGoogleButton-DzpqdfCm.js";import"./TextInput-BmMh6PqU.js";import"./Checkbox-BbuAp7Rg.js";import"./transition-BZAsKsJL.js";import"./dialog-Cmhm8y39.js";import"./LanguageDropdown-CZVTQBmi.js";import"./ResponsiveNavLink-DDPMZpeH.js";import"./Avatar-D3FqKlbf.js";import"./imageHelper-19DfnHcd.js";import"./HomeCarousel-DaNJ6o_C.js";import"./ChatBubbleLeftRightIcon-BSQqBWTT.js";import"./floating-ui.dom-AzuEyJcm.js";import"./Rating-XxgJT9dk.js";import"./index-CZ0tZ6fy.js";import"./HeartIcon-BIzo_fDE.js";function zt({label:e,options:t=[],value:l,onChange:a}){return v.jsxs("div",{className:"mb-4",children:[e&&v.jsx("label",{className:"block text-sm font-medium mb-1",children:e}),v.jsx("select",{className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",value:l,onChange:a,children:t.map((s,n)=>v.jsx("option",{value:s.value,children:s.label},n))})]})}function Jt({title:e,options:t,selected:l,onChange:a,disabled:s}){return v.jsxs("div",{className:"mb-4",children:[v.jsx("p",{className:"text-sm font-semibold mb-2",children:e}),t.map((n,o)=>{const c=`checkbox-${e}-${o}`;return v.jsxs("div",{className:"ml-0.5 mb-1",children:[v.jsxs("label",{className:"cursor-pointer relative",htmlFor:c,children:[v.jsx("input",{type:"checkbox",id:c,className:"peer h-5 w-5 cursor-pointer transition-all appearance-none rounded shadow hover:shadow-md border border-slate-300 checked:bg-slate-800 checked:border-slate-800",checked:l.includes(n),onChange:()=>a(n),disabled:s}),v.jsx("span",{className:"absolute text-white opacity-0 peer-checked:opacity-100 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",children:v.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),v.jsx("label",{htmlFor:c,className:"cursor-pointer ml-3 text-slate-600 text-sm",children:n})]},o)})]})}var Qt=Gt();const je=Wt(Qt);function Le(e){var t=r.useRef();t.current=e;var l=r.useCallback(function(){for(var a,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(a=t.current)===null||a===void 0?void 0:a.call.apply(a,[t].concat(n))},[]);return l}function Zt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var yt=Zt()?r.useLayoutEffect:r.useEffect,Nt=function(t,l){var a=r.useRef(!0);yt(function(){return t(a.current)},l),yt(function(){return a.current=!1,function(){a.current=!0}},[])},Ct=function(t,l){Nt(function(a){if(!a)return t()},l)};function St(e){var t=r.useRef(!1),l=r.useState(e),a=W(l,2),s=a[0],n=a[1];r.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function o(c,k){k&&t.current||n(c)}return[s,o]}function Je(e){return e!==void 0}function ea(e,t){var l=t||{},a=l.defaultValue,s=l.value,n=l.onChange,o=l.postState,c=St(function(){return Je(s)?s:Je(a)?typeof a=="function"?a():a:typeof e=="function"?e():e}),k=W(c,2),b=k[0],g=k[1],m=s!==void 0?s:b,h=o?o(m):m,C=Le(n),S=St([m]),x=W(S,2),i=x[0],f=x[1];Ct(function(){var d=i[0];b!==d&&C(b,d)},[i]),Ct(function(){Je(s)||g(s)},[s]);var u=Le(function(d,E){g(d,E),f([m],E)});return[h,u]}var et={},ta=function(t){};function aa(e,t){}function ra(e,t){}function na(){et={}}function wt(e,t,l){!t&&!et[l]&&(e(!1,l),et[l]=!0)}function Ie(e,t){wt(aa,e,t)}function la(e,t){wt(ra,e,t)}Ie.preMessage=ta;Ie.resetWarned=na;Ie.noteOnce=la;function sa(e,t){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=new Set;function s(n,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=a.has(n);if(Ie(!k,"Warning: There may be circular references"),k)return!1;if(n===o)return!0;if(l&&c>1)return!1;a.add(n);var b=c+1;if(Array.isArray(n)){if(!Array.isArray(o)||n.length!==o.length)return!1;for(var g=0;g<n.length;g++)if(!s(n[g],o[g],b))return!1;return!0}if(n&&o&&Qe(n)==="object"&&Qe(o)==="object"){var m=Object.keys(n);return m.length!==Object.keys(o).length?!1:m.every(function(h){return s(n[h],o[h],b)})}return!1}return s(e,t)}function tt(e,t,l){return(e-t)/(l-t)}function at(e,t,l,a){var s=tt(t,l,a),n={};switch(e){case"rtl":n.right="".concat(s*100,"%"),n.transform="translateX(50%)";break;case"btt":n.bottom="".concat(s*100,"%"),n.transform="translateY(50%)";break;case"ttb":n.top="".concat(s*100,"%"),n.transform="translateY(-50%)";break;default:n.left="".concat(s*100,"%"),n.transform="translateX(-50%)";break}return n}function we(e,t){return Array.isArray(e)?e[t]:e}var B={BACKSPACE:8,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},De=r.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),oa=r.createContext({}),ua=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],kt=r.forwardRef(function(e,t){var l=e.prefixCls,a=e.value,s=e.valueIndex,n=e.onStartMove,o=e.onDelete,c=e.style,k=e.render,b=e.dragging,g=e.draggingDelete,m=e.onOffsetChange,h=e.onChangeComplete,C=e.onFocus,S=e.onMouseEnter,x=Rt(e,ua),i=r.useContext(De),f=i.min,u=i.max,d=i.direction,E=i.disabled,N=i.keyboard,_=i.range,T=i.tabIndex,X=i.ariaLabelForHandle,P=i.ariaLabelledByForHandle,R=i.ariaRequired,p=i.ariaValueTextFormatterForHandle,M=i.styles,O=i.classNames,G="".concat(l,"-handle"),U=function(F){E||n(F,s)},z=function(F){C==null||C(F,s)},H=function(F){S(F,s)},ve=function(F){if(!E&&N){var j=null;switch(F.which||F.keyCode){case B.LEFT:j=d==="ltr"||d==="btt"?-1:1;break;case B.RIGHT:j=d==="ltr"||d==="btt"?1:-1;break;case B.UP:j=d!=="ttb"?1:-1;break;case B.DOWN:j=d!=="ttb"?-1:1;break;case B.HOME:j="min";break;case B.END:j="max";break;case B.PAGE_UP:j=2;break;case B.PAGE_DOWN:j=-2;break;case B.BACKSPACE:case B.DELETE:o(s);break}j!==null&&(F.preventDefault(),m(j,s))}},ne=function(F){switch(F.which||F.keyCode){case B.LEFT:case B.RIGHT:case B.UP:case B.DOWN:case B.HOME:case B.END:case B.PAGE_UP:case B.PAGE_DOWN:h==null||h();break}},ke=at(d,a,f,u),me={};if(s!==null){var Ee;me={tabIndex:E?null:we(T,s),role:"slider","aria-valuemin":f,"aria-valuemax":u,"aria-valuenow":a,"aria-disabled":E,"aria-label":we(X,s),"aria-labelledby":we(P,s),"aria-required":we(R,s),"aria-valuetext":(Ee=we(p,s))===null||Ee===void 0?void 0:Ee(a),"aria-orientation":d==="ltr"||d==="rtl"?"horizontal":"vertical",onMouseDown:U,onTouchStart:U,onFocus:z,onMouseEnter:H,onKeyDown:ve,onKeyUp:ne}}var pe=r.createElement("div",Ze({ref:t,className:je(G,ae(ae(ae({},"".concat(G,"-").concat(s+1),s!==null&&_),"".concat(G,"-dragging"),b),"".concat(G,"-dragging-delete"),g),O.handle),style:Y(Y(Y({},ke),c),M.handle)},me,x));return k&&(pe=k(pe,{index:s,prefixCls:l,value:a,dragging:b,draggingDelete:g})),pe}),ca=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],ia=r.forwardRef(function(e,t){var l=e.prefixCls,a=e.style,s=e.onStartMove,n=e.onOffsetChange,o=e.values,c=e.handleRender,k=e.activeHandleRender,b=e.draggingIndex,g=e.draggingDelete,m=e.onFocus,h=Rt(e,ca),C=r.useRef({}),S=r.useState(!1),x=W(S,2),i=x[0],f=x[1],u=r.useState(-1),d=W(u,2),E=d[0],N=d[1],_=function(p){N(p),f(!0)},T=function(p,M){_(M),m==null||m(p)},X=function(p,M){_(M)};r.useImperativeHandle(t,function(){return{focus:function(p){var M;(M=C.current[p])===null||M===void 0||M.focus()},hideHelp:function(){Kt.flushSync(function(){f(!1)})}}});var P=Y({prefixCls:l,onStartMove:s,onOffsetChange:n,render:c,onFocus:T,onMouseEnter:X},h);return r.createElement(r.Fragment,null,o.map(function(R,p){var M=b===p;return r.createElement(kt,Ze({ref:function(G){G?C.current[p]=G:delete C.current[p]},dragging:M,draggingDelete:M&&g,style:we(a,p),key:p,value:R,valueIndex:p},P))}),k&&i&&r.createElement(kt,Ze({key:"a11y"},P,{value:o[E],valueIndex:null,dragging:b!==-1,draggingDelete:g,render:k,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),da=function(t){var l=t.prefixCls,a=t.style,s=t.children,n=t.value,o=t.onClick,c=r.useContext(De),k=c.min,b=c.max,g=c.direction,m=c.includedStart,h=c.includedEnd,C=c.included,S="".concat(l,"-text"),x=at(g,n,k,b);return r.createElement("span",{className:je(S,ae({},"".concat(S,"-active"),C&&m<=n&&n<=h)),style:Y(Y({},x),a),onMouseDown:function(f){f.stopPropagation()},onClick:function(){o(n)}},s)},fa=function(t){var l=t.prefixCls,a=t.marks,s=t.onClick,n="".concat(l,"-mark");return a.length?r.createElement("div",{className:n},a.map(function(o){var c=o.value,k=o.style,b=o.label;return r.createElement(da,{key:c,prefixCls:n,style:k,value:c,onClick:s},b)})):null},va=function(t){var l=t.prefixCls,a=t.value,s=t.style,n=t.activeStyle,o=r.useContext(De),c=o.min,k=o.max,b=o.direction,g=o.included,m=o.includedStart,h=o.includedEnd,C="".concat(l,"-dot"),S=g&&m<=a&&a<=h,x=Y(Y({},at(b,a,c,k)),typeof s=="function"?s(a):s);return S&&(x=Y(Y({},x),typeof n=="function"?n(a):n)),r.createElement("span",{className:je(C,ae({},"".concat(C,"-active"),S)),style:x})},ma=function(t){var l=t.prefixCls,a=t.marks,s=t.dots,n=t.style,o=t.activeStyle,c=r.useContext(De),k=c.min,b=c.max,g=c.step,m=r.useMemo(function(){var h=new Set;if(a.forEach(function(S){h.add(S.value)}),s&&g!==null)for(var C=k;C<=b;)h.add(C),C+=g;return Array.from(h)},[k,b,g,s,a]);return r.createElement("div",{className:"".concat(l,"-step")},m.map(function(h){return r.createElement(va,{prefixCls:l,key:h,value:h,style:n,activeStyle:o})}))},Et=function(t){var l=t.prefixCls,a=t.style,s=t.start,n=t.end,o=t.index,c=t.onStartMove,k=t.replaceCls,b=r.useContext(De),g=b.direction,m=b.min,h=b.max,C=b.disabled,S=b.range,x=b.classNames,i="".concat(l,"-track"),f=tt(s,m,h),u=tt(n,m,h),d=function(T){!C&&c&&c(T,-1)},E={};switch(g){case"rtl":E.right="".concat(f*100,"%"),E.width="".concat(u*100-f*100,"%");break;case"btt":E.bottom="".concat(f*100,"%"),E.height="".concat(u*100-f*100,"%");break;case"ttb":E.top="".concat(f*100,"%"),E.height="".concat(u*100-f*100,"%");break;default:E.left="".concat(f*100,"%"),E.width="".concat(u*100-f*100,"%")}var N=k||je(i,ae(ae({},"".concat(i,"-").concat(o+1),o!==null&&S),"".concat(l,"-track-draggable"),c),x.track);return r.createElement("div",{className:N,style:Y(Y({},E),a),onMouseDown:d,onTouchStart:d})},ga=function(t){var l=t.prefixCls,a=t.style,s=t.values,n=t.startPoint,o=t.onStartMove,c=r.useContext(De),k=c.included,b=c.range,g=c.min,m=c.styles,h=c.classNames,C=r.useMemo(function(){if(!b){if(s.length===0)return[];var x=n??g,i=s[0];return[{start:Math.min(x,i),end:Math.max(x,i)}]}for(var f=[],u=0;u<s.length-1;u+=1)f.push({start:s[u],end:s[u+1]});return f},[s,b,n,g]);if(!k)return null;var S=C!=null&&C.length&&(h.tracks||m.tracks)?r.createElement(Et,{index:null,prefixCls:l,start:C[0].start,end:C[C.length-1].end,replaceCls:je(h.tracks,"".concat(l,"-tracks")),style:m.tracks}):null;return r.createElement(r.Fragment,null,S,C.map(function(x,i){var f=x.start,u=x.end;return r.createElement(Et,{index:i,prefixCls:l,style:Y(Y({},we(a,i)),m.track),start:f,end:u,key:i,onStartMove:o})}))},ha=130;function pt(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function ba(e,t,l,a,s,n,o,c,k,b,g){var m=r.useState(null),h=W(m,2),C=h[0],S=h[1],x=r.useState(-1),i=W(x,2),f=i[0],u=i[1],d=r.useState(!1),E=W(d,2),N=E[0],_=E[1],T=r.useState(l),X=W(T,2),P=X[0],R=X[1],p=r.useState(l),M=W(p,2),O=M[0],G=M[1],U=r.useRef(null),z=r.useRef(null),H=r.useRef(null),ve=r.useContext(oa),ne=ve.onDragStart,ke=ve.onDragChange;Nt(function(){f===-1&&R(l)},[l,f]),r.useEffect(function(){return function(){document.removeEventListener("mousemove",U.current),document.removeEventListener("mouseup",z.current),H.current&&(H.current.removeEventListener("touchmove",U.current),H.current.removeEventListener("touchend",z.current))}},[]);var me=function(j,L,q){L!==void 0&&S(L),R(j);var J=j;q&&(J=j.filter(function(A,V){return V!==f})),o(J),ke&&ke({rawValues:j,deleteIndex:q?f:-1,draggingIndex:f,draggingValue:L})},Ee=Le(function(F,j,L){if(F===-1){var q=O[0],J=O[O.length-1],A=a-q,V=s-J,ee=j*(s-a);ee=Math.max(ee,A),ee=Math.min(ee,V);var Pe=n(q+ee);ee=Pe-q;var le=O.map(function(ue){return ue+ee});me(le)}else{var se=(s-a)*j,oe=fe(P);oe[F]=O[F];var he=k(oe,se,F,"dist");me(he.values,he.value,L)}}),pe=function(j,L,q){j.stopPropagation();var J=q||l,A=J[L];u(L),S(A),G(J),R(J),_(!1);var V=pt(j),ee=V.pageX,Pe=V.pageY,le=!1;ne&&ne({rawValues:J,draggingIndex:L,draggingValue:A});var se=function(ue){ue.preventDefault();var Q=pt(ue),_e=Q.pageX,Fe=Q.pageY,$e=_e-ee,re=Fe-Pe,te=e.current.getBoundingClientRect(),Me=te.width,Te=te.height,be,xe;switch(t){case"btt":be=-re/Te,xe=$e;break;case"ttb":be=re/Te,xe=$e;break;case"rtl":be=-$e/Me,xe=re;break;default:be=$e/Me,xe=re}le=b?Math.abs(xe)>ha&&g<P.length:!1,_(le),Ee(L,be,le)},oe=function he(ue){ue.preventDefault(),document.removeEventListener("mouseup",he),document.removeEventListener("mousemove",se),H.current&&(H.current.removeEventListener("touchmove",U.current),H.current.removeEventListener("touchend",z.current)),U.current=null,z.current=null,H.current=null,c(le),u(-1),_(!1)};document.addEventListener("mouseup",oe),document.addEventListener("mousemove",se),j.currentTarget.addEventListener("touchend",oe),j.currentTarget.addEventListener("touchmove",se),U.current=se,z.current=oe,H.current=j.currentTarget},ge=r.useMemo(function(){var F=fe(l).sort(function(A,V){return A-V}),j=fe(P).sort(function(A,V){return A-V}),L={};j.forEach(function(A){L[A]=(L[A]||0)+1}),F.forEach(function(A){L[A]=(L[A]||0)-1});var q=b?1:0,J=Object.values(L).reduce(function(A,V){return A+Math.abs(V)},0);return J<=q?P:l},[l,P,b]);return[f,C,N,ge,pe]}function xa(e,t,l,a,s,n){var o=r.useCallback(function(C){return Math.max(e,Math.min(t,C))},[e,t]),c=r.useCallback(function(C){if(l!==null){var S=e+Math.round((o(C)-e)/l)*l,x=function(d){return(String(d).split(".")[1]||"").length},i=Math.max(x(l),x(t),x(e)),f=Number(S.toFixed(i));return e<=f&&f<=t?f:null}return null},[l,e,t,o]),k=r.useCallback(function(C){var S=o(C),x=a.map(function(u){return u.value});l!==null&&x.push(c(C)),x.push(e,t);var i=x[0],f=t-e;return x.forEach(function(u){var d=Math.abs(S-u);d<=f&&(i=u,f=d)}),i},[e,t,a,l,o,c]),b=function C(S,x,i){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof x=="number"){var u,d=S[i],E=d+x,N=[];a.forEach(function(R){N.push(R.value)}),N.push(e,t),N.push(c(d));var _=x>0?1:-1;f==="unit"?N.push(c(d+_*l)):N.push(c(E)),N=N.filter(function(R){return R!==null}).filter(function(R){return x<0?R<=d:R>=d}),f==="unit"&&(N=N.filter(function(R){return R!==d}));var T=f==="unit"?d:E;u=N[0];var X=Math.abs(u-T);if(N.forEach(function(R){var p=Math.abs(R-T);p<X&&(u=R,X=p)}),u===void 0)return x<0?e:t;if(f==="dist")return u;if(Math.abs(x)>1){var P=fe(S);return P[i]=u,C(P,x-_,i,f)}return u}else{if(x==="min")return e;if(x==="max")return t}},g=function(S,x,i){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",u=S[i],d=b(S,x,i,f);return{value:d,changed:d!==u}},m=function(S){return n===null&&S===0||typeof n=="number"&&S<n},h=function(S,x,i){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",u=S.map(k),d=u[i],E=b(u,x,i,f);if(u[i]=E,s===!1){var N=n||0;i>0&&u[i-1]!==d&&(u[i]=Math.max(u[i],u[i-1]+N)),i<u.length-1&&u[i+1]!==d&&(u[i]=Math.min(u[i],u[i+1]-N))}else if(typeof n=="number"||n===null){for(var _=i+1;_<u.length;_+=1)for(var T=!0;m(u[_]-u[_-1])&&T;){var X=g(u,1,_);u[_]=X.value,T=X.changed}for(var P=i;P>0;P-=1)for(var R=!0;m(u[P]-u[P-1])&&R;){var p=g(u,-1,P-1);u[P-1]=p.value,R=p.changed}for(var M=u.length-1;M>0;M-=1)for(var O=!0;m(u[M]-u[M-1])&&O;){var G=g(u,-1,M-1);u[M-1]=G.value,O=G.changed}for(var U=0;U<u.length-1;U+=1)for(var z=!0;m(u[U+1]-u[U])&&z;){var H=g(u,1,U+1);u[U+1]=H.value,z=H.changed}}return{value:u[i],values:u}};return[k,h]}function ya(e){return r.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,l=e.draggableTrack,a=e.minCount,s=e.maxCount;return[!0,t,!t&&l,a||0,s]},[e])}var Ca=r.forwardRef(function(e,t){var l=e.prefixCls,a=l===void 0?"rc-slider":l,s=e.className,n=e.style,o=e.classNames,c=e.styles,k=e.id,b=e.disabled,g=b===void 0?!1:b,m=e.keyboard,h=m===void 0?!0:m,C=e.autoFocus,S=e.onFocus,x=e.onBlur,i=e.min,f=i===void 0?0:i,u=e.max,d=u===void 0?100:u,E=e.step,N=E===void 0?1:E,_=e.value,T=e.defaultValue,X=e.range,P=e.count,R=e.onChange,p=e.onBeforeChange,M=e.onAfterChange,O=e.onChangeComplete,G=e.allowCross,U=G===void 0?!0:G,z=e.pushable,H=z===void 0?!1:z,ve=e.reverse,ne=e.vertical,ke=e.included,me=ke===void 0?!0:ke,Ee=e.startPoint,pe=e.trackStyle,ge=e.handleStyle,F=e.railStyle,j=e.dotStyle,L=e.activeDotStyle,q=e.marks,J=e.dots,A=e.handleRender,V=e.activeHandleRender,ee=e.track,Pe=e.tabIndex,le=Pe===void 0?0:Pe,se=e.ariaLabelForHandle,oe=e.ariaLabelledByForHandle,he=e.ariaRequired,ue=e.ariaValueTextFormatterForHandle,Q=r.useRef(null),_e=r.useRef(null),Fe=r.useMemo(function(){return ne?ve?"ttb":"btt":ve?"rtl":"ltr"},[ve,ne]),$e=ya(X),re=W($e,5),te=re[0],Me=re[1],Te=re[2],be=re[3],xe=re[4],Z=r.useMemo(function(){return isFinite(f)?f:0},[f]),He=r.useMemo(function(){return isFinite(d)?d:100},[d]),Re=r.useMemo(function(){return N!==null&&N<=0?1:N},[N]),jt=r.useMemo(function(){return typeof H=="boolean"?H?Re:!1:H>=0?H:!1},[H,Re]),We=r.useMemo(function(){return Object.keys(q||{}).map(function(w){var y=q[w],D={value:Number(w)};return y&&Qe(y)==="object"&&!r.isValidElement(y)&&("label"in y||"style"in y)?(D.style=y.style,D.label=y.label):D.label=y,D}).filter(function(w){var y=w.label;return y||typeof y=="number"}).sort(function(w,y){return w.value-y.value})},[q]),Dt=xa(Z,He,Re,We,U,jt),rt=W(Dt,2),Xe=rt[0],nt=rt[1],Pt=ea(T,{value:_}),lt=W(Pt,2),ye=lt[0],_t=lt[1],K=r.useMemo(function(){var w=ye==null?[]:Array.isArray(ye)?ye:[ye],y=W(w,1),D=y[0],$=D===void 0?Z:D,I=ye===null?[]:[$];if(te){if(I=fe(w),P||ye===void 0){var Ce=P>=0?P+1:2;for(I=I.slice(0,Ce);I.length<Ce;){var ce;I.push((ce=I[I.length-1])!==null&&ce!==void 0?ce:Z)}}I.sort(function(ie,de){return ie-de})}return I.forEach(function(ie,de){I[de]=Xe(ie)}),I},[ye,te,Z,P,Xe]),Ae=function(y){return te?y:y[0]},Ye=Le(function(w){var y=fe(w).sort(function(D,$){return D-$});R&&!sa(y,K,!0)&&R(Ae(y)),_t(y)}),st=Le(function(w){w&&Q.current.hideHelp();var y=Ae(K);M==null||M(y),Ie(!M,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),O==null||O(y)}),Ft=function(y){if(!(g||!Me||K.length<=be)){var D=fe(K);D.splice(y,1),p==null||p(Ae(D)),Ye(D);var $=Math.max(0,y-1);Q.current.hideHelp(),Q.current.focus($)}},$t=ba(_e,Fe,K,Z,He,Xe,Ye,st,nt,Me,be),Be=W($t,5),ot=Be[0],Tt=Be[1],Ht=Be[2],qe=Be[3],ut=Be[4],ct=function(y,D){if(!g){var $=fe(K),I=0,Ce=0,ce=He-Z;K.forEach(function(Se,Ge){var bt=Math.abs(y-Se);bt<=ce&&(ce=bt,I=Ge),Se<y&&(Ce=Ge)});var ie=I;Me&&ce!==0&&(!xe||K.length<xe)?($.splice(Ce+1,0,y),ie=Ce+1):$[I]=y,te&&!K.length&&P===void 0&&$.push(y);var de=Ae($);if(p==null||p(de),Ye($),D){var Ne,Oe;(Ne=document.activeElement)===null||Ne===void 0||(Oe=Ne.blur)===null||Oe===void 0||Oe.call(Ne),Q.current.focus(ie),ut(D,ie,$)}else M==null||M(de),Ie(!M,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),O==null||O(de)}},At=function(y){y.preventDefault();var D=_e.current.getBoundingClientRect(),$=D.width,I=D.height,Ce=D.left,ce=D.top,ie=D.bottom,de=D.right,Ne=y.clientX,Oe=y.clientY,Se;switch(Fe){case"btt":Se=(ie-Oe)/I;break;case"ttb":Se=(Oe-ce)/I;break;case"rtl":Se=(de-Ne)/$;break;default:Se=(Ne-Ce)/$}var Ge=Z+Se*(He-Z);ct(Xe(Ge),y)},Ot=r.useState(null),it=W(Ot,2),Ve=it[0],dt=it[1],Lt=function(y,D){if(!g){var $=nt(K,y,D);p==null||p(Ae(K)),Ye($.values),dt($.value)}};r.useEffect(function(){if(Ve!==null){var w=K.indexOf(Ve);w>=0&&Q.current.focus(w)}dt(null)},[Ve]);var It=r.useMemo(function(){return Te&&Re===null?!1:Te},[Te,Re]),ft=Le(function(w,y){ut(w,y),p==null||p(Ae(K))}),vt=ot!==-1;r.useEffect(function(){if(!vt){var w=K.lastIndexOf(Tt);Q.current.focus(w)}},[vt]);var Ue=r.useMemo(function(){return fe(qe).sort(function(w,y){return w-y})},[qe]),Bt=r.useMemo(function(){return te?[Ue[0],Ue[Ue.length-1]]:[Z,Ue[0]]},[Ue,te,Z]),mt=W(Bt,2),gt=mt[0],ht=mt[1];r.useImperativeHandle(t,function(){return{focus:function(){Q.current.focus(0)},blur:function(){var y,D=document,$=D.activeElement;(y=_e.current)!==null&&y!==void 0&&y.contains($)&&($==null||$.blur())}}}),r.useEffect(function(){C&&Q.current.focus(0)},[]);var Ut=r.useMemo(function(){return{min:Z,max:He,direction:Fe,disabled:g,keyboard:h,step:Re,included:me,includedStart:gt,includedEnd:ht,range:te,tabIndex:le,ariaLabelForHandle:se,ariaLabelledByForHandle:oe,ariaRequired:he,ariaValueTextFormatterForHandle:ue,styles:c||{},classNames:o||{}}},[Z,He,Fe,g,h,Re,me,gt,ht,te,le,se,oe,he,ue,c,o]);return r.createElement(De.Provider,{value:Ut},r.createElement("div",{ref:_e,className:je(a,s,ae(ae(ae(ae({},"".concat(a,"-disabled"),g),"".concat(a,"-vertical"),ne),"".concat(a,"-horizontal"),!ne),"".concat(a,"-with-marks"),We.length)),style:n,onMouseDown:At,id:k},r.createElement("div",{className:je("".concat(a,"-rail"),o==null?void 0:o.rail),style:Y(Y({},F),c==null?void 0:c.rail)}),ee!==!1&&r.createElement(ga,{prefixCls:a,style:pe,values:K,startPoint:Ee,onStartMove:It?ft:void 0}),r.createElement(ma,{prefixCls:a,marks:We,dots:J,style:j,activeStyle:L}),r.createElement(ia,{ref:Q,prefixCls:a,style:ge,values:qe,draggingIndex:ot,draggingDelete:Ht,onStartMove:ft,onOffsetChange:Lt,onFocus:S,onBlur:x,handleRender:A,activeHandleRender:V,onChangeComplete:st,onDelete:Me?Ft:void 0}),r.createElement(fa,{prefixCls:a,marks:We,onClick:ct})))});function Sa({min:e=0,max:t=1e4,value:l,onChange:a,disabled:s}){const[n,o]=r.useState(l||[e,t]),{t:c}=Ke(),k=g=>{o(g),a&&a(g)},b=(g,m)=>{const h=[...n];h[g]=Number(m),o(h),a&&a(h)};return v.jsxs("div",{className:"mb-4",children:[v.jsx("p",{className:"text-sm font-semibold mb-2",children:c("global.priceRange")}),v.jsxs("div",{className:"px-2",children:[v.jsx(Ca,{range:!0,min:e,max:t,value:n,onChange:k,trackStyle:[{backgroundColor:"#86efac"}],handleStyle:[{borderColor:"#86efac",backgroundColor:"#86efac"},{borderColor:"#86efac",backgroundColor:"#86efac"}],railStyle:{backgroundColor:"#e5e7eb"},dotStyle:{backgroundColor:"#86efac"},activeDotStyle:{backgroundColor:"#16a34a"},disabled:s}),v.jsxs("div",{className:"flex justify-between mt-3",children:[v.jsx("input",{type:"number",value:n[0],onChange:g=>b(0,g.target.value),className:"border px-2 py-1 w-20 rounded text-center",disabled:s}),v.jsx("input",{type:"number",value:n[1],onChange:g=>b(1,g.target.value),className:"border px-2 py-1 w-20 rounded text-center",disabled:s})]})]})]})}function ka({selectedRating:e,onChange:t,disabled:l}){const a=[4,3,2],{t:s}=Ke(),n=o=>{t(e===o?null:o)};return v.jsxs("div",{className:"mb-4",children:[v.jsx("p",{className:"text-sm font-semibold mb-2",children:"Rating"}),a.map(o=>v.jsxs("label",{className:"flex items-center mb-1 cursor-pointer",children:[v.jsx("input",{type:"checkbox",className:"mr-2",checked:e===o,onChange:()=>n(o),disabled:l}),v.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(c=>c<=o?v.jsx("i",{className:"fas fa-star text-yellow-400"},`full-${c}`):v.jsx("i",{className:"far fa-star text-gray-300"},`empty-${c}`)),v.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[o,".0 & ",s("global.up")]})]})]},o))]})}function Mt({categories:e,selectedCategory:t,filters:l,setFilters:a,onApply:s,isLoading:n}){const o=r.useRef(null),{t:c}=Ke();r.useEffect(()=>(o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{s&&s(l,!1)},400),()=>clearTimeout(o.current)),[l]),r.useEffect(()=>{t&&!l.selectedItems.includes(t)&&a(m=>({...m,selectedItems:[t]}))},[t]);const k=m=>{n||a(h=>({...h,search:m.target.value}))},b=m=>{n||a(h=>{const C=h.selectedItems.includes(m)?h.selectedItems.filter(S=>S!==m):[...h.selectedItems,m];return{...h,selectedItems:C}})},g=()=>{n||a({search:"",sort:"featured",selectedItems:[],price:[0,25e3],rating:null})};return v.jsxs("div",{className:"bg-white p-4 w-full rounded-lg lg:shadow-md md:shadow-none",children:[v.jsx("input",{type:"text",placeholder:c("navbar.searchPlaceholder"),value:l.search,onChange:k,className:"w-full mb-4 px-3 py-2 border border-gray-300 rounded text-sm",disabled:n}),v.jsx(zt,{label:c("global.sortBy"),value:l.sort,onChange:m=>!n&&a(h=>({...h,sort:m.target.value})),options:[{label:c("global.lowToHigh"),value:"low"},{label:c("global.highToLow"),value:"high"}]}),v.jsx(Jt,{title:c("global.showing"),options:["All Category",...e.map(m=>m.name_id)],selected:l.selectedItems,onChange:b,disabled:n}),v.jsx(ka,{selectedRating:l.rating,onChange:m=>!n&&a(h=>({...h,rating:m})),disabled:n}),v.jsx(Sa,{min:0,max:35e3,value:l.price,onChange:m=>!n&&a(h=>({...h,price:m})),disabled:n}),v.jsx("div",{className:"flex justify-between mt-4",children:v.jsx("button",{className:"px-4 py-2 text-sm border border-gray-300 rounded",onClick:g,disabled:n,children:"Reset"})})]})}function za({categories:e=[],search:t="",selectedCategory:l=null}){const[a,s]=r.useState([]),[n,o]=r.useState(1),[c,k]=r.useState(!0),[b,g]=r.useState(!1),[m,h]=r.useState(0),{t:C}=Ke(),[S,x]=r.useState({search:t,sort:"featured",selectedItems:[],selectedCategory:l,price:[0,25e3],rating:null}),[i,f]=r.useState(!1),u=async(d=S,E=!1)=>{if(b)return;g(!0);const N=E?n+1:1;try{const T=(await axios.get("/api/filter-product",{params:{search:d.search,sort:d.sort,rating:d.rating,price_min:d.price[0],price_max:d.price[1],categories:d.selectedItems,page:N}})).data.products;h(T.data.length),s(E?X=>[...X,...T.data]:T.data),x(d),o(T.current_page),k(T.current_page<T.last_page)}catch(_){console.error("Error fetching products",_)}g(!1)};return v.jsx(Yt,{children:v.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-4",children:[v.jsx("div",{className:"lg:hidden mb-2 sticky top-[7.3rem] z-[40] flex justify-end",children:v.jsx(ze.Button,{className:"px-4 py-2 rounded-lg font-semibold normal-case bg-[#D9B36A]",onClick:()=>f(!0),children:"Filter"})}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs(ze.Drawer,{open:i,onClose:()=>f(!1),placement:"right",size:320,className:"p-0 h-screen max-h-screen flex flex-col z-[9999]",overlayProps:{className:"z-[9998] bg-black/25"},children:[v.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center px-4 py-3 border-b",children:[v.jsx("h2",{className:"text-lg font-bold",children:"Filter"}),v.jsx(ze.IconButton,{variant:"text",color:"blue-gray",onClick:()=>f(!1),children:v.jsx(Vt,{className:"w-6 h-6"})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-2",children:v.jsx(Mt,{categories:e,filters:S,selectedCategory:l,setFilters:x,onApply:d=>{u(d),f(!1)},isLoading:b})})]}),v.jsx("div",{className:"sticky md:w-96 md:top-32 lg:top-24 h-fit hidden lg:block",children:v.jsx(Mt,{categories:e,filters:S,selectedCategory:l,setFilters:x,onApply:u,isLoading:b})}),v.jsx("div",{className:"flex-1",children:v.jsxs(Xt,{dataLength:a.length,next:u,hasMore:c,scrollThreshold:.75,className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-3 gap-3 py-5 w-full",children:[a.map(d=>v.jsx(qt,{product:d},d.id)),b&&a.length>0&&Array.from({length:5}).map((d,E)=>v.jsx(xt,{},`skeleton-next-${E}`)),b&&a.length===0&&Array.from({length:10}).map((d,E)=>v.jsx(xt,{},E))]})}),!b&&a.length===0&&v.jsx("div",{className:"w-full text-center text-gray-500 py-10",children:C("product.notFound")})]})]})})}export{za as default};
